<!DOCTYPE html>
<html>

<head>
    <title>spotifusion</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
</head>

<body>

    <div class="sticky-top text-center pt-3 pb-2 header">
        <h3 class="display-5">spotifusion</h3>
    </div>

    <div>
        <h5 class="display-5 text-center mt-2 pb-2 pt-5">presenting...</h5>
        <h1 id="playlist-name" class="display-1 text-center pb-5"></h1>
    </div>
    
    <div id="playlist" class="text-center">
        <iframe src="" width="70%" height="380" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </div>

    <script type="text/javascript">
        
        const urlParams = new URLSearchParams(window.location.search);
        let playlist_id = urlParams.get('playlist');
        let resultsJSON = JSON.parse(urlParams.get('results'));

        document.querySelector("#playlist-name").innerHTML = resultsJSON['group_name'];

        let spotify_player_url = "https://open.spotify.com/embed/playlist/" + playlist_id + "?utm_source=generator";
        console.log(spotify_player_url);
        document.querySelector("iframe").src = spotify_player_url;

    </script>

</body>

</html>